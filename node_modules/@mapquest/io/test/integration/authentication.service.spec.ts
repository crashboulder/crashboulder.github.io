import { expect } from 'chai';
import { AuthenticationService, AuthorizationHeader } from '../../src/security/';
import { getConfiguration } from '../../src/';

describe('Authentication Service Integration', function() {
  let authenticationService: AuthenticationService;
  let applicationId = 'test';
  let authenticationServiceAccessToken:string;

  beforeEach(function() {
    authenticationService = new AuthenticationService({
      applicationId: applicationId,
    });
  });

  it('should obtain an access token', (done) => {
    let authCall = authenticationService.fetchApplicationAccessToken(getConfiguration().secret);
    authCall.then(function(accessToken: string) {
      expect(accessToken).to.exist;
      return done();
    })
  });

});
