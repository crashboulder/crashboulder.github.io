import { AxiosRequestConfig } from 'axios';
import * as chai from 'chai';
import { Http } from '../../src/http';

const SDK = require('../../package.json');

const expect = chai.expect;
chai.should();

describe('HTTP Client', function() {

  it('should contain a function to add user-agent to arbitrary headers', (done) => {
    let config:AxiosRequestConfig = { headers: { 'arbitrary' : 'header' }};

    let currentVersion = SDK['version'];

    let newConfig = Http.addUserAgentToConfigHeaders(config);

    expect(newConfig.headers['arbitrary']).to.equal('header');
    expect(newConfig.headers['User-Agent']).to.equal('MapQuest.io Node.js SDK (v' + currentVersion + ')');

    return done();
  });

});
